/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkellen_kelley_github_io"] = self["webpackChunkellen_kelley_github_io"] || []).push([["portfolio"],{

/***/ "./src/assets/scss/portfolio.scss":
/*!****************************************!*\
  !*** ./src/assets/scss/portfolio.scss ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://ellen-kelley.github.io/./src/assets/scss/portfolio.scss?");

/***/ }),

/***/ "./src/assets/js/portfolio.js":
/*!************************************!*\
  !*** ./src/assets/js/portfolio.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scss_portfolio_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scss/portfolio.scss */ \"./src/assets/scss/portfolio.scss\");\n/* harmony import */ var swiper_bundle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! swiper/bundle */ \"./node_modules/swiper/swiper-bundle.esm.js\");\n/* harmony import */ var swiper_swiper_bundle_min_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! swiper/swiper-bundle.min.css */ \"./node_modules/swiper/swiper-bundle.min.css\");\n/* harmony import */ var isotope_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! isotope-layout */ \"./node_modules/isotope-layout/js/isotope.js\");\n/* harmony import */ var isotope_layout__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(isotope_layout__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var glightbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! glightbox */ \"./node_modules/glightbox/dist/js/glightbox.min.js\");\n/* harmony import */ var glightbox__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(glightbox__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var glightbox_dist_css_glightbox_min_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! glightbox/dist/css/glightbox.min.css */ \"./node_modules/glightbox/dist/css/glightbox.min.css\");\n/* harmony import */ var aos__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! aos */ \"./node_modules/aos/dist/aos.js\");\n/* harmony import */ var aos__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(aos__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\n\n\n\n\n\n// Section - Portfolio Full Width Slider / Carousel //\n\nconst images = [\"./assets/img/portfolio/traffic.jpg\", \"./assets/img/portfolio/am-tech.jpg\", \"./assets/img/portfolio/traffic.jpg\", \"./assets/img/portfolio/am-tech.jpg\"];\n\nif (window.innerWidth < 1020) {\n  document.querySelectorAll(\".intro-item\").forEach((item, index) => {\n    item.setAttribute(\"style\", `background-image: url(${images[index]})`);\n  });\n}\n\nnew swiper_bundle__WEBPACK_IMPORTED_MODULE_1__.default(\".intro-carousel\", {\n  speed: 600,\n  loop: true,\n  autoplay: {\n    delay: 4000,\n    disableOnInteraction: false,\n  },\n  slidesPerView: \"auto\",\n  pagination: {\n    el: \".swiper-pagination\",\n    type: \"bullets\",\n    clickable: true,\n  },\n});\n\n// Section - Gallery with filters - get images and show them on the page //\n\nconst initialamount = 10; //how many images to fetch initially\nconst loadAmount = 7; //how many images to fetch when clicking 'load more'\nlet lastDataKey;\n\n// Subsection - Get initial images from Firebase //\n\nconst getData = async () => {\n  const databaseRef = projectFirestore.ref(\"images/\").limitToFirst(initialamount);\n  queryForData(databaseRef);\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", () => getData());\n\n// Subsection - Get more images as needed //\n\nconst handleClick = () => {\n  lastDataKey = localStorage.getItem(\"lastKey\");\n  loadMoreData(lastDataKey);\n};\n\nconst loadMore = document.querySelector(\".display-more-imgs\");\nloadMore.addEventListener(\"click\", handleClick);\n\nconst loadMoreData = (lastDataKey) => {\n  const databaseRef = projectFirestore.ref(\"images/\").limitToFirst(loadAmount).startAfter(null, lastDataKey);\n  queryForData(databaseRef);\n};\n\n// Subsection - Fetch data from the database //\n\nconst queryForData = (databaseRef) => {\n  const query = databaseRef.on(\"value\", (snapshot) => {\n    const data = snapshot.val();\n    if (data) {\n      displayData(data);\n\n      const lastDataKey = Object.keys(data)[Object.keys(data).length - 1];\n      localStorage.setItem(\"lastKey\", lastDataKey);\n\n      if (Object.keys(data).length < loadAmount) {\n        loadMore.removeEventListener(\"click\", handleClick);\n        loadMore.style.display = \"none\";\n      }\n    } else {\n      loadMore.removeEventListener(\"click\", handleClick);\n      loadMore.style.display = \"none\";\n    }\n  });\n};\n\n// Subsection - Display data on the page //\n\nconst displayData = (data) => {\n  let template = \"\";\n  for (const key in data) {\n    const { url, filter } = data[key];\n    template += ` \n    <div class=\"col-lg-4 col-md-6 portfolio-item ${filter} hidden\">\n      <div class=\"portfolio-wrap\">\n        <img src=\"${url + \".png\"}\" class=\"img-fluid\" alt=\"\" >\n        <div class=\"portfolio-info\">\n        </div>\n        <div class=\"portfolio-links\">\n          <a href=\"${url + \".png\"}\" data-gallery=\"portfolioGallery\"\n            class=\"portfolio-lightbox\"><i class=\"bi bi-zoom-in\"></i></a>\n        </div>\n      </div>\n    </div>`;\n  }\n  document.querySelector(\".portfolio-container\").innerHTML += template;\n\n  Promise.all(\n    Array.from(document.images).map((img) => {\n      if (img.complete) return Promise.resolve(img.naturalHeight !== 0);\n      return new Promise((resolve) => {\n        img.addEventListener(\"load\", () => resolve(true));\n        img.addEventListener(\"error\", () => resolve(false));\n      });\n    })\n  ).then((results) => {\n    if (results.every((res) => res)) {\n      startPortfolio();\n      removePreloader();\n      document.querySelectorAll(\".portfolio-item\").forEach((item) => {\n        item.classList.remove(\"hidden\");\n      });\n    }\n  });\n};\n\n// Subsection - Remove preloader once everything is loaded on the page //\n\nconst removePreloader = () => {\n  let preloader = document.querySelector(\"#preloader\");\n  if (preloader) {\n    preloader.remove();\n  }\n};\n\n// Subsection - Start portfolio, Isotope and GLightbox //\n\nconst startPortfolio = () => {\n  let portfolioContainer = document.querySelector(\".portfolio-container\");\n  if (portfolioContainer) {\n    let portfolioIsotope = new (isotope_layout__WEBPACK_IMPORTED_MODULE_3___default())(portfolioContainer, {\n      itemSelector: \".portfolio-item\",\n    });\n    let portfolioFilters = document.querySelectorAll(\"#portfolio-flters li\");\n    portfolioFilters.forEach((item) => {\n      item.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        portfolioFilters.forEach((el) => {\n          el.classList.remove(\"filter-active\");\n        });\n        item.classList.add(\"filter-active\");\n\n        portfolioIsotope.arrange({\n          filter: item.getAttribute(\"data-filter\"),\n        });\n        portfolioIsotope.on(\"arrangeComplete\", () => {\n          aos__WEBPACK_IMPORTED_MODULE_6___default().refresh();\n        });\n      });\n    });\n  }\n  const portfolioLightbox = glightbox__WEBPACK_IMPORTED_MODULE_4___default()({\n    selector: \".portfolio-lightbox\",\n  });\n};\n\n\n//# sourceURL=webpack://ellen-kelley.github.io/./src/assets/js/portfolio.js?");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ "use strict";
/******/ 
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors"], () => (__webpack_exec__("./src/assets/js/portfolio.js")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);